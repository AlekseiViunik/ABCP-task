### Тестовое задание для разработчика на PHP
Мы ожидаем, что Вы найдете все возможные ошибки (синтаксические, проектирования, безопасности и т.д.)

### Внесенные исправления
 
1. Файл 1.php:
- Добавлен импорт Exception и InvalidArgumentException.
- Константа LIMIT записана капсом и для нее добавлен модификатор доступа.
- Добавлен модификатор доступа для метода getUsers.
- Метод `getUsers` объявлен с типом `int` для параметра `ageFrom`, поэтому нет необходимости приводить его к целочисленному типу в теле функции, отсекая лишние проблемы. Строка `$ageFrom = (int)trim($ageFrom);` в таком случае кажется избыточной и поэтому удалена.
- Метод `getByNames` не требует статического контекста, поэтому модификатор `static` удален.
- Добавлена строка `@param array $names` в PHPDoc метода `getByNames`.
- Сам параметр также добавлен для метода `getByNames` вместо того, чтобы использовать глобальную переменную. Это необходимо для чистоты кода, сохранения принципа инкапсуляции, придания гибкости методу и защиты от таких уязвимостей как XSS.
- Добавлено использование `array_map` в метод `getByNames` для лаконичности и улучшения читаемости
- Указание типа параметра для `users` в PHPDoc метода `users`
- Добавление аннотации `@throws Exception`
- Переименование метода `users` в `addUsersToDataBase`. Наименование функции должно передавать ее назначение.
- Указание типа передаваемого параметра для метода `addUsersToDataBase`
- Добавлено присвоение экземпляра класса `\Gateway\User` переменной `gateway`. Теперь везде, где используется `\Gateway\User::getInstance()`, вместо этого мы можем обращаться к переменной.
- Создание метода `validateUser` для валидации передаваемых данных и его вызов для каждого отдельного юзера перед попыткой записать его в базу.
- Нет смысла коммитить транзакцию после добавления каждого пользователя. Коммит транзакции вынесен за пределы цикла. Пользователи либо будут добавлены все, либо не будет добавлено ни одного.
- Выбрасываем пойманное исключение сразу после отката транзакции.
- Приведение кода к стандарту PSR-12 с помощью Code Sniffer.

2. Файл 2.php:
- Создание `.env файла` с секретами.
- Создание `env_loader` файла с загрузкой секретов.
- Использование метода `getenv` для получения данных для подключения к БД.
- Атрибут `ATTR_ERRMODE` установлен в значение `ERRMODE_EXCEPTION` чтобы выбрасывать исключения при возникновении ошибок в базе данных, а не использовать стандартные предупреждения.
- Добавление именованных параметров `:ageFrom` и `:limit` в SQL-запросе для предотвращения SQL инъекций.
- Добавление `true` в `json_decode`, чтобы декодировать JSON-строку в ассоциативный массив, а не в объект.
- Установка значения `null` для `'key' => $settings['key']`, если ключ не найден. Это позволяет избежать ошибок доступа к несуществующему ключу и гарантирует, что значение всегда будет определено, даже если ключ отсутствует.
- Строки, длина которых превышает 120 символов, разделены на несколько строк покороче
- Добавление именованного параметра `:name` в SQL-запросе для предотвращения SQL инъекций.
- Метод `user` переименован в `getUserByName`
- Метод `add` переименован в `addUserToDataBase`
- В SQL запросе метода `addUserToDataBase` VALUES последовательность значений изменена на правильную.
